# 레거시 코드 리팩터링

## 3단계 - 의존성 리팩터링

### 요구 사항
이전 단계에서 객체 지향 설계를 의식하였다면 아래의 문제가 존재한다. 의존성 관점에서 설계를 검토해 본다.

- 메뉴의 이름과 가격이 변경되면 주문 항목도 함께 변경된다. 메뉴 정보가 변경되더라도 주문 항목이 변경되지 않게 구현한다.
- 클래스 간의 방향도 중요하고 패키지 간의 방향도 중요하다. 클래스 사이, 패키지 사이의 의존 관계는 단방향이 되도록 해야 한다.
- 데이터베이스 스키마 변경 및 마이그레이션이 필요하다면 아래 문서를 적극 활용한다.
  - DB도 형상관리를 해보자!

### 프로그래밍 요구 사항
Lombok은 그 강력한 기능만큼 사용상 주의를 요한다.

- 무분별한 setter 메서드 사용
- 객체 간에 상호 참조하는 경우 무한 루프에 빠질 가능성
- Lombok 사용상 주의점(Pitfall)

이번 과정에서는 Lombok 없이 미션을 진행해 본다.

### 의존성 리팩터링
- [ ] 아키텍처 테스트
- [ ] 레이어드 아키텍처 의존성 리팩터링
- [ ] 패키지 의존성 리팩터링
- [ ] 클래스 의존성 리팩터링
- [ ] 비동기 이벤트를 사용해서 결합도 낮추기
